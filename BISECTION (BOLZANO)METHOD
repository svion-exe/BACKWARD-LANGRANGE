#include <cmath>
#include <iostream>
using namespace std;

#define eps 0.0001
#define f(x) ((x)*(x)*(x)) + ((x)*(x)) + (x) + 7 

void Bisect() {
    int n;
    cout << "Enter the number of iterations: ";
    cin >> n;
    
    float x0, x1, x2;
    float f0, f1, f2;

    
    for (x0 = -1;; x0--) {
        f0 = f(x0);
        if (f0 <= 0) {
            break;
        }
    }



    for (x1 = x0 - 0.1;; x1 += 0.1) {
        f1 = f(x1);
        if (f1 >= 0) {
            break;
        }
    }

    for (int i = 0; i < n; i++) {
        x2 = (x1 + x0) / 2; 
        f2 = f(x2);           

        if (fabs(f2) < eps) {
            cout << "\nExact root found: " << x2 << endl;
            cout << "After " << i+1 << " iterations." << endl;
            return;
        }

        if (f0 * f2 < 0) {
            x1 = x2;
            f1 = f2;
        } else if (f1 * f2 < 0) {
            x0 = x2;
            f0 = f2;
        }

        cout << "\n----------------------\n";
        cout << "Iteration: " << i+1 << endl;
        cout << "Root approximation: " << x2 << endl;
        cout << "----------------------\n";

        if (fabs(x1 - x0) < eps) {
            cout << "\n----------------------\n";
            cout << "Converged after " << i+1 << " iterations." << endl;
            cout << "Final Root: " << x2 << endl;
            cout << "----------------------\n";
            return;
        }
    }
}

int main() {
    cout << "Bisection Method\n";
    Bisect();
    return 0;
}
